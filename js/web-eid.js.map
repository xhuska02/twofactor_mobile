{"version":3,"file":"web-eid.js","sources":["../node/models/Action.js","../node/errors/ErrorCode.js","../node/errors/MissingParameterError.js","../node/errors/ActionPendingError.js","../node/errors/ActionTimeoutError.js","../node/errors/ContextInsecureError.js","../node/errors/ExtensionUnavailableError.js","../node/config.js","../node/errors/NativeFatalError.js","../node/errors/NativeInvalidArgumentError.js","../node/errors/NativeUnavailableError.js","../node/errors/UnknownError.js","../node/errors/UserCancelledError.js","../node/errors/UserTimeoutError.js","../node/errors/VersionInvalidError.js","../node/errors/VersionMismatchError.js","../node/utils/errorSerializer.js","../node/services/WebExtensionService.js","../node/utils/sleep.js","../node/web-eid.js"],"sourcesContent":["/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar Action;\n(function (Action) {\n    Action[\"WARNING\"] = \"web-eid:warning\";\n    Action[\"STATUS\"] = \"web-eid:status\";\n    Action[\"STATUS_ACK\"] = \"web-eid:status-ack\";\n    Action[\"STATUS_SUCCESS\"] = \"web-eid:status-success\";\n    Action[\"STATUS_FAILURE\"] = \"web-eid:status-failure\";\n    Action[\"AUTHENTICATE\"] = \"web-eid:authenticate\";\n    Action[\"AUTHENTICATE_ACK\"] = \"web-eid:authenticate-ack\";\n    Action[\"AUTHENTICATE_SUCCESS\"] = \"web-eid:authenticate-success\";\n    Action[\"AUTHENTICATE_FAILURE\"] = \"web-eid:authenticate-failure\";\n    Action[\"GET_SIGNING_CERTIFICATE\"] = \"web-eid:get-signing-certificate\";\n    Action[\"GET_SIGNING_CERTIFICATE_ACK\"] = \"web-eid:get-signing-certificate-ack\";\n    Action[\"GET_SIGNING_CERTIFICATE_SUCCESS\"] = \"web-eid:get-signing-certificate-success\";\n    Action[\"GET_SIGNING_CERTIFICATE_FAILURE\"] = \"web-eid:get-signing-certificate-failure\";\n    Action[\"SIGN\"] = \"web-eid:sign\";\n    Action[\"SIGN_ACK\"] = \"web-eid:sign-ack\";\n    Action[\"SIGN_SUCCESS\"] = \"web-eid:sign-success\";\n    Action[\"SIGN_FAILURE\"] = \"web-eid:sign-failure\";\n})(Action || (Action = {}));\nexport default Action;\n//# sourceMappingURL=Action.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar ErrorCode;\n(function (ErrorCode) {\n    // Timeout errors\n    ErrorCode[\"ERR_WEBEID_ACTION_TIMEOUT\"] = \"ERR_WEBEID_ACTION_TIMEOUT\";\n    ErrorCode[\"ERR_WEBEID_USER_TIMEOUT\"] = \"ERR_WEBEID_USER_TIMEOUT\";\n    // Health errors\n    ErrorCode[\"ERR_WEBEID_VERSION_MISMATCH\"] = \"ERR_WEBEID_VERSION_MISMATCH\";\n    ErrorCode[\"ERR_WEBEID_VERSION_INVALID\"] = \"ERR_WEBEID_VERSION_INVALID\";\n    ErrorCode[\"ERR_WEBEID_EXTENSION_UNAVAILABLE\"] = \"ERR_WEBEID_EXTENSION_UNAVAILABLE\";\n    ErrorCode[\"ERR_WEBEID_NATIVE_UNAVAILABLE\"] = \"ERR_WEBEID_NATIVE_UNAVAILABLE\";\n    ErrorCode[\"ERR_WEBEID_UNKNOWN_ERROR\"] = \"ERR_WEBEID_UNKNOWN_ERROR\";\n    // Security errors\n    ErrorCode[\"ERR_WEBEID_CONTEXT_INSECURE\"] = \"ERR_WEBEID_CONTEXT_INSECURE\";\n    // Third party errors\n    ErrorCode[\"ERR_WEBEID_USER_CANCELLED\"] = \"ERR_WEBEID_USER_CANCELLED\";\n    ErrorCode[\"ERR_WEBEID_NATIVE_INVALID_ARGUMENT\"] = \"ERR_WEBEID_NATIVE_INVALID_ARGUMENT\";\n    ErrorCode[\"ERR_WEBEID_NATIVE_FATAL\"] = \"ERR_WEBEID_NATIVE_FATAL\";\n    // Developer mistakes\n    ErrorCode[\"ERR_WEBEID_ACTION_PENDING\"] = \"ERR_WEBEID_ACTION_PENDING\";\n    ErrorCode[\"ERR_WEBEID_MISSING_PARAMETER\"] = \"ERR_WEBEID_MISSING_PARAMETER\";\n})(ErrorCode || (ErrorCode = {}));\nexport default ErrorCode;\n//# sourceMappingURL=ErrorCode.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport ErrorCode from \"./ErrorCode\";\nexport default class MissingParameterError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = this.constructor.name;\n        this.code = ErrorCode.ERR_WEBEID_MISSING_PARAMETER;\n    }\n}\n//# sourceMappingURL=MissingParameterError.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport ErrorCode from \"./ErrorCode\";\nexport default class ActionPendingError extends Error {\n    constructor(message = \"same action for Web-eID browser extension is already pending\") {\n        super(message);\n        this.name = this.constructor.name;\n        this.code = ErrorCode.ERR_WEBEID_ACTION_PENDING;\n    }\n}\n//# sourceMappingURL=ActionPendingError.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport ErrorCode from \"./ErrorCode\";\nexport default class ActionTimeoutError extends Error {\n    constructor(message = \"extension message timeout\") {\n        super(message);\n        this.name = this.constructor.name;\n        this.code = ErrorCode.ERR_WEBEID_ACTION_TIMEOUT;\n    }\n}\n//# sourceMappingURL=ActionTimeoutError.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport ErrorCode from \"./ErrorCode\";\nconst SECURE_CONTEXTS_INFO_URL = \"https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts\";\nexport default class ContextInsecureError extends Error {\n    constructor(message = \"Secure context required, see \" + SECURE_CONTEXTS_INFO_URL) {\n        super(message);\n        this.name = this.constructor.name;\n        this.code = ErrorCode.ERR_WEBEID_CONTEXT_INSECURE;\n    }\n}\n//# sourceMappingURL=ContextInsecureError.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport ErrorCode from \"./ErrorCode\";\nexport default class ExtensionUnavailableError extends Error {\n    constructor(message = \"Web-eID extension is not available\") {\n        super(message);\n        this.name = this.constructor.name;\n        this.code = ErrorCode.ERR_WEBEID_EXTENSION_UNAVAILABLE;\n    }\n}\n//# sourceMappingURL=ExtensionUnavailableError.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default Object.freeze({\n    VERSION: \"2.0.0\",\n    EXTENSION_HANDSHAKE_TIMEOUT: 1000,\n    NATIVE_APP_HANDSHAKE_TIMEOUT: 5 * 1000,\n    DEFAULT_USER_INTERACTION_TIMEOUT: 2 * 60 * 1000,\n    MAX_EXTENSION_LOAD_DELAY: 1000, // 1 second\n});\n//# sourceMappingURL=config.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport ErrorCode from \"./ErrorCode\";\nexport default class NativeFatalError extends Error {\n    constructor(message = \"native application terminated with a fatal error\") {\n        super(message);\n        this.name = this.constructor.name;\n        this.code = ErrorCode.ERR_WEBEID_NATIVE_FATAL;\n    }\n}\n//# sourceMappingURL=NativeFatalError.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport ErrorCode from \"./ErrorCode\";\nexport default class NativeInvalidArgumentError extends Error {\n    constructor(message = \"native application received an invalid argument\") {\n        super(message);\n        this.name = this.constructor.name;\n        this.code = ErrorCode.ERR_WEBEID_NATIVE_INVALID_ARGUMENT;\n    }\n}\n//# sourceMappingURL=NativeInvalidArgumentError.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport ErrorCode from \"./ErrorCode\";\nexport default class NativeUnavailableError extends Error {\n    constructor(message = \"Web-eID native application is not available\") {\n        super(message);\n        this.name = this.constructor.name;\n        this.code = ErrorCode.ERR_WEBEID_NATIVE_UNAVAILABLE;\n    }\n}\n//# sourceMappingURL=NativeUnavailableError.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport ErrorCode from \"./ErrorCode\";\nexport default class UnknownError extends Error {\n    constructor(message = \"an unknown error occurred\") {\n        super(message);\n        this.name = this.constructor.name;\n        this.code = ErrorCode.ERR_WEBEID_UNKNOWN_ERROR;\n    }\n}\n//# sourceMappingURL=UnknownError.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport ErrorCode from \"./ErrorCode\";\nexport default class UserCancelledError extends Error {\n    constructor(message = \"request was cancelled by the user\") {\n        super(message);\n        this.name = this.constructor.name;\n        this.code = ErrorCode.ERR_WEBEID_USER_CANCELLED;\n    }\n}\n//# sourceMappingURL=UserCancelledError.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport ErrorCode from \"./ErrorCode\";\nexport default class UserTimeoutError extends Error {\n    constructor(message = \"user failed to respond in time\") {\n        super(message);\n        this.name = this.constructor.name;\n        this.code = ErrorCode.ERR_WEBEID_USER_TIMEOUT;\n    }\n}\n//# sourceMappingURL=UserTimeoutError.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport ErrorCode from \"./ErrorCode\";\nexport default class VersionInvalidError extends Error {\n    constructor(message = \"invalid version string\") {\n        super(message);\n        this.name = this.constructor.name;\n        this.code = ErrorCode.ERR_WEBEID_VERSION_INVALID;\n    }\n}\n//# sourceMappingURL=VersionInvalidError.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport ErrorCode from \"./ErrorCode\";\nfunction tmpl(strings, requiresUpdate) {\n    return `Update required for Web-eID ${requiresUpdate}`;\n}\nexport default class VersionMismatchError extends Error {\n    constructor(message, versions, requiresUpdate) {\n        if (!message) {\n            if (!requiresUpdate) {\n                message = \"requiresUpdate not provided\";\n            }\n            else if (requiresUpdate.extension && requiresUpdate.nativeApp) {\n                message = tmpl `${\"extension and native app\"}`;\n            }\n            else if (requiresUpdate.extension) {\n                message = tmpl `${\"extension\"}`;\n            }\n            else if (requiresUpdate.nativeApp) {\n                message = tmpl `${\"native app\"}`;\n            }\n        }\n        super(message);\n        this.name = this.constructor.name;\n        this.code = ErrorCode.ERR_WEBEID_VERSION_MISMATCH;\n        this.requiresUpdate = requiresUpdate;\n        if (versions) {\n            const { library, extension, nativeApp } = versions;\n            Object.assign(this, { library, extension, nativeApp });\n        }\n    }\n}\n//# sourceMappingURL=VersionMismatchError.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport ActionPendingError from \"../errors/ActionPendingError\";\nimport ActionTimeoutError from \"../errors/ActionTimeoutError\";\nimport ContextInsecureError from \"../errors/ContextInsecureError\";\nimport ErrorCode from \"../errors/ErrorCode\";\nimport ExtensionUnavailableError from \"../errors/ExtensionUnavailableError\";\nimport NativeFatalError from \"../errors/NativeFatalError\";\nimport NativeInvalidArgumentError from \"../errors/NativeInvalidArgumentError\";\nimport NativeUnavailableError from \"../errors/NativeUnavailableError\";\nimport UnknownError from \"../errors/UnknownError\";\nimport UserCancelledError from \"../errors/UserCancelledError\";\nimport UserTimeoutError from \"../errors/UserTimeoutError\";\nimport VersionInvalidError from \"../errors/VersionInvalidError\";\nimport VersionMismatchError from \"../errors/VersionMismatchError\";\nconst errorCodeToErrorClass = {\n    [ErrorCode.ERR_WEBEID_ACTION_PENDING]: ActionPendingError,\n    [ErrorCode.ERR_WEBEID_ACTION_TIMEOUT]: ActionTimeoutError,\n    [ErrorCode.ERR_WEBEID_CONTEXT_INSECURE]: ContextInsecureError,\n    [ErrorCode.ERR_WEBEID_EXTENSION_UNAVAILABLE]: ExtensionUnavailableError,\n    [ErrorCode.ERR_WEBEID_NATIVE_INVALID_ARGUMENT]: NativeInvalidArgumentError,\n    [ErrorCode.ERR_WEBEID_NATIVE_FATAL]: NativeFatalError,\n    [ErrorCode.ERR_WEBEID_NATIVE_UNAVAILABLE]: NativeUnavailableError,\n    [ErrorCode.ERR_WEBEID_USER_CANCELLED]: UserCancelledError,\n    [ErrorCode.ERR_WEBEID_USER_TIMEOUT]: UserTimeoutError,\n    [ErrorCode.ERR_WEBEID_VERSION_INVALID]: VersionInvalidError,\n    [ErrorCode.ERR_WEBEID_VERSION_MISMATCH]: VersionMismatchError,\n};\nexport function serializeError(error) {\n    const { message, name, fileName, lineNumber, columnNumber, stack, } = error;\n    return {\n        ...(Object.fromEntries(Object.getOwnPropertyNames(error)\n            .map((prop) => [prop, error[prop]]))),\n        message,\n        name,\n        fileName,\n        lineNumber,\n        columnNumber,\n        stack,\n    };\n}\nexport function deserializeError(errorObject) {\n    let error;\n    if (typeof errorObject.code == \"string\" && errorObject.code in errorCodeToErrorClass) {\n        const CustomError = errorCodeToErrorClass[errorObject.code];\n        error = new CustomError();\n    }\n    else {\n        error = new UnknownError();\n    }\n    for (const [key, value] of Object.entries(errorObject)) {\n        error[key] = value;\n    }\n    return error;\n}\n//# sourceMappingURL=errorSerializer.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport Action from \"../models/Action\";\nimport ActionPendingError from \"../errors/ActionPendingError\";\nimport ActionTimeoutError from \"../errors/ActionTimeoutError\";\nimport ContextInsecureError from \"../errors/ContextInsecureError\";\nimport ExtensionUnavailableError from \"../errors/ExtensionUnavailableError\";\nimport config from \"../config\";\nimport { deserializeError } from \"../utils/errorSerializer\";\nexport default class WebExtensionService {\n    constructor() {\n        this.loggedWarnings = [];\n        this.queue = [];\n        window.addEventListener(\"message\", (event) => this.receive(event));\n    }\n    receive(event) {\n        var _a, _b, _c, _d, _e, _f;\n        if (!/^web-eid:/.test((_a = event.data) === null || _a === void 0 ? void 0 : _a.action))\n            return;\n        const message = event.data;\n        const suffix = (_c = (_b = message.action) === null || _b === void 0 ? void 0 : _b.match(/success$|failure$|ack$/)) === null || _c === void 0 ? void 0 : _c[0];\n        const initialAction = this.getInitialAction(message.action);\n        const pending = this.getPendingMessage(initialAction);\n        if (message.action === Action.WARNING) {\n            (_d = message.warnings) === null || _d === void 0 ? void 0 : _d.forEach((warning) => {\n                if (!this.loggedWarnings.includes(warning)) {\n                    this.loggedWarnings.push(warning);\n                    console.warn(warning);\n                }\n            });\n        }\n        else if (pending) {\n            switch (suffix) {\n                case \"ack\": {\n                    clearTimeout(pending.ackTimer);\n                    break;\n                }\n                case \"success\": {\n                    this.removeFromQueue(initialAction);\n                    (_e = pending.resolve) === null || _e === void 0 ? void 0 : _e.call(pending, message);\n                    break;\n                }\n                case \"failure\": {\n                    const failureMessage = message;\n                    this.removeFromQueue(initialAction);\n                    (_f = pending.reject) === null || _f === void 0 ? void 0 : _f.call(pending, failureMessage.error ? deserializeError(failureMessage.error) : failureMessage);\n                    break;\n                }\n            }\n        }\n    }\n    send(message, timeout) {\n        if (this.getPendingMessage(message.action)) {\n            return Promise.reject(new ActionPendingError());\n        }\n        else if (!window.isSecureContext) {\n            return Promise.reject(new ContextInsecureError());\n        }\n        else {\n            const pending = { message };\n            this.queue.push(pending);\n            pending.promise = new Promise((resolve, reject) => {\n                pending.resolve = resolve;\n                pending.reject = reject;\n            });\n            pending.ackTimer = window.setTimeout(() => this.onAckTimeout(pending), config.EXTENSION_HANDSHAKE_TIMEOUT);\n            pending.replyTimer = window.setTimeout(() => this.onReplyTimeout(pending), timeout);\n            window.postMessage(message, \"*\");\n            return pending.promise;\n        }\n    }\n    onReplyTimeout(pending) {\n        var _a;\n        this.removeFromQueue(pending.message.action);\n        (_a = pending.reject) === null || _a === void 0 ? void 0 : _a.call(pending, new ActionTimeoutError());\n    }\n    onAckTimeout(pending) {\n        var _a;\n        clearTimeout(pending.replyTimer);\n        this.removeFromQueue(pending.message.action);\n        (_a = pending.reject) === null || _a === void 0 ? void 0 : _a.call(pending, new ExtensionUnavailableError());\n    }\n    getPendingMessage(action) {\n        return this.queue.find((pm) => {\n            return pm.message.action === action;\n        });\n    }\n    getInitialAction(action) {\n        return action.replace(/-success$|-failure$|-ack$/, \"\");\n    }\n    removeFromQueue(action) {\n        const pending = this.getPendingMessage(action);\n        clearTimeout(pending === null || pending === void 0 ? void 0 : pending.replyTimer);\n        this.queue = this.queue.filter((pending) => (pending.message.action !== action));\n    }\n}\n//# sourceMappingURL=WebExtensionService.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n/**\n * Sleeps for a specified time before resolving the returned promise.\n *\n * @param milliseconds Time in milliseconds until the promise is resolved\n *\n * @returns Empty promise\n */\nexport default function sleep(milliseconds) {\n    return new Promise((resolve) => {\n        setTimeout(() => resolve(), milliseconds);\n    });\n}\n//# sourceMappingURL=sleep.js.map","/*\n * Copyright (c) Estonian Information System Authority\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport Action from \"./models/Action\";\nimport ErrorCode from \"./errors/ErrorCode\";\nimport MissingParameterError from \"./errors/MissingParameterError\";\nimport WebExtensionService from \"./services/WebExtensionService\";\nimport config from \"./config\";\nimport sleep from \"./utils/sleep\";\nconst webExtensionService = new WebExtensionService();\nconst initializationTime = +new Date();\n/**\n * Give browsers a moment to load the content script\n */\nasync function extensionLoadDelay() {\n    const now = +new Date();\n    await sleep(initializationTime + config.MAX_EXTENSION_LOAD_DELAY - now);\n}\nexport async function status() {\n    await extensionLoadDelay();\n    const timeout = config.EXTENSION_HANDSHAKE_TIMEOUT + config.NATIVE_APP_HANDSHAKE_TIMEOUT;\n    const message = {\n        action: Action.STATUS,\n        libraryVersion: config.VERSION,\n    };\n    try {\n        const { library, extension, nativeApp, } = await webExtensionService.send(message, timeout);\n        return {\n            library,\n            extension,\n            nativeApp,\n        };\n    }\n    catch (error) {\n        error.library = config.VERSION;\n        throw error;\n    }\n}\nexport async function authenticate(challengeNonce, options) {\n    await extensionLoadDelay();\n    if (!challengeNonce) {\n        throw new MissingParameterError(\"authenticate function requires a challengeNonce\");\n    }\n    const timeout = (config.EXTENSION_HANDSHAKE_TIMEOUT +\n        config.NATIVE_APP_HANDSHAKE_TIMEOUT +\n        ((options === null || options === void 0 ? void 0 : options.userInteractionTimeout) || config.DEFAULT_USER_INTERACTION_TIMEOUT));\n    const message = {\n        action: Action.AUTHENTICATE,\n        libraryVersion: config.VERSION,\n        challengeNonce,\n        options,\n    };\n    const { unverifiedCertificate, algorithm, signature, format, appVersion, } = await webExtensionService.send(message, timeout);\n    return {\n        unverifiedCertificate,\n        algorithm,\n        signature,\n        format,\n        appVersion,\n    };\n}\nexport async function getSigningCertificate(options) {\n    await extensionLoadDelay();\n    const timeout = (config.EXTENSION_HANDSHAKE_TIMEOUT +\n        config.NATIVE_APP_HANDSHAKE_TIMEOUT +\n        ((options === null || options === void 0 ? void 0 : options.userInteractionTimeout) || config.DEFAULT_USER_INTERACTION_TIMEOUT) * 2);\n    const message = {\n        action: Action.GET_SIGNING_CERTIFICATE,\n        libraryVersion: config.VERSION,\n        options,\n    };\n    const { certificate, supportedSignatureAlgorithms, } = await webExtensionService.send(message, timeout);\n    return {\n        certificate,\n        supportedSignatureAlgorithms,\n    };\n}\nexport async function sign(certificate, hash, hashFunction, options) {\n    await extensionLoadDelay();\n    if (!certificate) {\n        throw new MissingParameterError(\"sign function requires a certificate as parameter\");\n    }\n    if (!hash) {\n        throw new MissingParameterError(\"sign function requires a hash as parameter\");\n    }\n    if (!hashFunction) {\n        throw new MissingParameterError(\"sign function requires a hashFunction as parameter\");\n    }\n    const timeout = (config.EXTENSION_HANDSHAKE_TIMEOUT +\n        config.NATIVE_APP_HANDSHAKE_TIMEOUT +\n        ((options === null || options === void 0 ? void 0 : options.userInteractionTimeout) || config.DEFAULT_USER_INTERACTION_TIMEOUT) * 2);\n    const message = {\n        action: Action.SIGN,\n        libraryVersion: config.VERSION,\n        certificate,\n        hash,\n        hashFunction,\n        options,\n    };\n    const { signature, signatureAlgorithm, } = await webExtensionService.send(message, timeout);\n    return {\n        signature,\n        signatureAlgorithm,\n    };\n}\nexport { Action, ErrorCode };\nexport { config };\n//# sourceMappingURL=web-eid.js.map"],"names":["ErrorCode","Action"],"mappings":"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"}